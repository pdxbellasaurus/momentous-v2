(this.webpackJsonpmomentous=this.webpackJsonpmomentous||[]).push([[0],{243:function(e,t,n){"use strict";n.r(t);var c=n(1),s=n.n(c),r=n(27),i=n.n(r),o=(n(71),n(13)),a=n(8),l=n(12),j=n(7),d=s.a.createContext({logged_in:!1,username:"",id:"",onUpdate:function(){}}),b=n(3),O=n(21),h=n.n(O),u={getEvents:function(){return h.a.get("/api/events")},getEvent:function(e){return h.a.get("/api/events/"+e)},updateEvent:function(e,t){return h.a.put("/api/events/"+e,t)},deleteEvent:function(e){return h.a.delete("/api/events/"+e)},saveEvent:function(e){return h.a.post("/api/events",e)},saveUser:function(e){return h.a.post("/api/users",e)},getUser:function(e){return h.a.get("/api/users/"+e)},loginUser:function(e){return h.a.post("/api/users/login",e)},logoutUser:function(){return h.a.post("/api/users/logout")}},x=n(2);function m(){var e=Object(c.useContext)(d),t=e.username,n=e.email,s=e.id,r=Object(c.useState)([]),i=Object(a.a)(r,2),o=i[0],j=i[1],O=Object(c.useState)(o),h=Object(a.a)(O,2),m=h[0],g=h[1];return Object(c.useEffect)((function(){u.getEvents().then((function(e){console.log(e.data),j(e.data);var t=e.data.filter((function(e){return e.owner[0]._id===s}));g(t)})).catch((function(e){return console.log(e)}))}),[]),Object(x.jsx)(b.Container,{className:"mt-5",color:"light",style:{backgroundColor:"#F4B400"},children:Object(x.jsxs)(b.Columns,{className:"is-multiline",children:[Object(x.jsxs)(b.Columns.Column,{className:"left",size:4,offset:!0,children:[Object(x.jsx)("aside",{className:"menu",children:Object(x.jsxs)("ul",{className:"list",children:[Object(x.jsxs)("li",{className:"subtitle is-3",children:["Welcome ",Object(x.jsx)("strong",{children:t})]}),Object(x.jsx)("li",{className:"box",children:n})]})}),Object(x.jsx)(b.Button,{renderAs:l.b,color:"link",to:"/new",className:"is-link is-block is-alt is-medium",children:"Add Event"})]}),Object(x.jsx)(b.Columns.Column,{size:8,children:Object(x.jsxs)(b.Box,{className:"content mt-4",children:[Object(x.jsx)(b.Heading,{className:"h4",children:"Events:"}),m.length?m.map((function(e,t){return Object(x.jsxs)("article",{children:[Object(x.jsx)(b.Heading,{renderAs:l.b,color:"link",to:"/events/"+e._id,children:e.title}),Object(x.jsx)(b.Media,{children:Object(x.jsx)("div",{className:"media-content",children:Object(x.jsx)(b.Content,{children:Object(x.jsx)("p",{children:e.description})})})})]},t)})):Object(x.jsx)("p",{children:"No events yet!"})]})})]})})}var g=n(11),p=n(10);var f=function(){var e=Object(c.useContext)(d),t=Object(j.f)();return Object(x.jsx)(d.Provider,{value:e.logged_in,children:Object(x.jsx)("header",{children:Object(x.jsx)(b.Navbar,{role:"navigation","aria-label":"main navigation",children:Object(x.jsxs)(b.Navbar.Brand,{children:[Object(x.jsx)(b.Navbar.Item,{renderAs:l.b,to:"/",children:Object(x.jsx)("img",{alt:"Momentous: a simple community driven events app",height:"28",src:"https://user-images.githubusercontent.com/74746211/117521730-20fd6580-af64-11eb-9522-6c4a865877c4.png",width:"38"})}),Object(x.jsx)(b.Navbar.Container,{className:"navbar-start",children:e.logged_in&&Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(b.Button,{renderAs:l.b,color:"primary",to:"/profile",children:Object(x.jsx)(b.Icon,{children:Object(x.jsx)(p.a,{icon:g.i})})}),Object(x.jsx)(b.Button,{className:"ml-3",renderAs:l.b,color:"link",to:"/new",children:Object(x.jsxs)(b.Icon,{children:[Object(x.jsx)(p.a,{icon:g.f}),Object(x.jsx)(p.a,{icon:g.a})]})})]})}),Object(x.jsxs)(b.Navbar.Container,{className:"navbar-end",children:[e.logged_in&&Object(x.jsx)(x.Fragment,{children:Object(x.jsx)(b.Button,{renderAs:l.b,onClick:function(){u.logoutUser().then((function(n){n.data.logged_in||(e.onUpdate(n.data),t.push("/login"))})).catch((function(e){console.log(e)}))},color:"light",to:"/logout",style:{marginLeft:"4rem"},children:Object(x.jsx)(b.Icon,{children:Object(x.jsx)(p.a,{alt:"Logout",icon:g.h})})})}),!e.logged_in&&Object(x.jsxs)(b.Columns,{style:{marginLeft:"4rem",display:"inline-flex",alignContent:"end",alignItems:"center"},children:[Object(x.jsx)(b.Columns.Column,{children:Object(x.jsx)(b.Button,{renderAs:l.b,color:"link",to:"/login",children:Object(x.jsx)(b.Icon,{children:Object(x.jsx)(p.a,{alt:"Login",icon:g.g})})})}),Object(x.jsx)("div",{className:"divider is-vertical is-light",color:"light",children:"OR"}),Object(x.jsx)(b.Columns.Column,{children:Object(x.jsx)(b.Button,{renderAs:l.b,color:"link",to:"/signup",children:Object(x.jsx)(b.Icon,{children:Object(x.jsx)(p.a,{alt:"Signup",icon:g.j})})})})]})]})]})})})})};function v(){return Object(x.jsx)(x.Fragment,{children:Object(x.jsxs)(b.Hero,{size:"fullheight",color:"dark",style:{backgroundColor:"#1A237E"},children:[Object(x.jsx)(b.Hero.Header,{}),Object(x.jsx)(b.Hero.Body,{children:Object(x.jsxs)(b.Container,{children:[Object(x.jsx)(b.Block,{children:Object(x.jsx)(b.Image,{style:{margin:"auto"},size:128,src:"https://user-images.githubusercontent.com/74746211/117521730-20fd6580-af64-11eb-9522-6c4a865877c4.png"})}),Object(x.jsx)(b.Heading,{size:2,children:"Momentous"}),Object(x.jsx)(b.Heading,{size:4,subtitle:!0,weight:"light",children:"BRINGING PEOPLE TOGETHER FOR A MOMENTOUS OCCASION!"})]})}),Object(x.jsx)(b.Hero.Footer,{children:Object(x.jsx)(b.Box,{color:"light",style:{backgroundColor:"#F4B400"},children:Object(x.jsx)(b.Heading,{size:3,subtitle:!0,children:" EVENTS"})})})]})})}function C(e){var t=e.children;return Object(x.jsx)(b.Columns,{children:t})}function F(e){var t=e.index,n=e.title,c=e.description,s=e.id;return Object(x.jsx)(b.Columns.Column,{size:3,children:Object(x.jsx)(b.Card,{children:Object(x.jsxs)(b.Card.Content,{children:[Object(x.jsx)(b.Media,{children:Object(x.jsxs)(b.Media.Item,{children:[Object(x.jsx)(b.Heading,{size:4,children:Object(x.jsx)(l.b,{to:"/events/"+s,children:n})}),Object(x.jsx)(b.Heading,{subtitle:!0,size:6,children:"Hosted by:"})]})}),Object(x.jsxs)(b.Content,{children:[c,Object(x.jsx)("br",{})]}),Object(x.jsx)(l.b,{to:"/events/"+s,children:"RSVP"})]})},t)})}function y(){var e=Object(c.useState)([]),t=Object(a.a)(e,2),n=t[0],s=t[1];return Object(c.useEffect)((function(){u.getEvents().then((function(e){s(e.data)})).catch((function(e){console.log(e)}))}),[]),Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(v,{}),Object(x.jsx)(b.Container,{color:"light",style:{backgroundColor:"#F4B400"},children:n.length?Object(x.jsx)(C,{className:"is-multiline",children:n.map((function(e,t){return Object(x.jsx)(F,{event:e,title:e.title,description:e.description,id:e._id},t)}))}):Object(x.jsx)(b.Heading,{style:{paddingTop:30},as:"h3",children:"No events yet!"})})]})}var E=n(20);var N=function(){var e=Object(c.useState)({}),t=Object(a.a)(e,2),n=t[0],s=t[1],r=Object(c.useContext)(d),i=Object(j.f)();function l(e){var t=e.target,c=t.name,r=t.value;s(Object(o.a)(Object(o.a)({},n),{},Object(E.a)({},c,r)))}return Object(x.jsx)(b.Container,{style:{backgroundColor:"#1A237E"},children:Object(x.jsxs)(b.Box,{style:{borderColor:"#1A237E",borderWidth:"2",borderStyle:"solid",width:400,margin:"auto"},children:[Object(x.jsx)(b.Heading,{style:{margin:"1rem"},subtitle:!0,size:3,children:"Login"}),Object(x.jsx)(b.Block,{children:Object(x.jsx)(b.Image,{style:{margin:"auto"},size:128,src:"https://user-images.githubusercontent.com/74746211/117521730-20fd6580-af64-11eb-9522-6c4a865877c4.png"})}),Object(x.jsx)(b.Block,{children:"Please login to proceed."}),Object(x.jsxs)("form",{children:[Object(x.jsxs)(b.Form.Field,{children:[Object(x.jsx)(b.Form.Label,{children:"Username"}),Object(x.jsxs)(b.Form.Control,{children:[Object(x.jsx)(b.Form.Input,{onChange:l,type:"text",placeholder:"Username",name:"username"}),Object(x.jsx)(b.Icon,{align:"left",size:"small",children:Object(x.jsx)(p.a,{icon:g.i})}),Object(x.jsx)(b.Icon,{align:"right",size:"small",children:Object(x.jsx)(p.a,{icon:g.b})})]})]}),Object(x.jsxs)(b.Form.Field,{children:[Object(x.jsx)(b.Form.Label,{children:"Password"}),Object(x.jsxs)(b.Form.Control,{children:[Object(x.jsx)(b.Form.Input,{onChange:l,placeholder:"Password",type:"password",name:"password"}),Object(x.jsx)(b.Icon,{align:"left",size:"small",children:Object(x.jsx)(p.a,{icon:g.e})}),Object(x.jsx)(b.Icon,{align:"right",size:"small",children:Object(x.jsx)(p.a,{icon:g.b})})]})]}),Object(x.jsx)(b.Button,{color:"success",type:"submit",onClick:function(e){e.preventDefault(),u.loginUser({username:n.username,password:n.password}).then((function(e){e.data.logged_in&&(r.onUpdate(e.data),i.push("/profile"))}))},children:"Submit"})]})]})})};var S=function(){var e=Object(c.useState)({}),t=Object(a.a)(e,2),n=t[0],s=t[1],r=Object(c.useContext)(d),i=Object(j.f)();function l(e){var t=e.target,c=t.name,r=t.value;s(Object(o.a)(Object(o.a)({},n),{},Object(E.a)({},c,r)))}return Object(x.jsx)(b.Container,{style:{backgroundColor:"#1A237E"},children:Object(x.jsxs)(b.Box,{style:{borderColor:"#1A237E",borderWidth:"2",borderStyle:"solid",width:700,margin:"auto"},children:[Object(x.jsx)(b.Heading,{style:{margin:"1rem"},subtitle:!0,size:3,children:"Signup"}),Object(x.jsx)(b.Block,{children:Object(x.jsx)(b.Image,{style:{margin:"auto"},size:128,src:"https://user-images.githubusercontent.com/74746211/117521730-20fd6580-af64-11eb-9522-6c4a865877c4.png"})}),Object(x.jsx)(b.Block,{children:"Please signup to proceed."}),Object(x.jsxs)("form",{children:[Object(x.jsxs)(b.Form.Field,{kind:"group",children:[Object(x.jsx)(b.Form.Label,{children:"First Name"}),Object(x.jsx)(b.Form.Control,{children:Object(x.jsx)(b.Form.Input,{onChange:l,type:"text",placeholder:"First Name",name:"firstName"})}),Object(x.jsx)(b.Form.Label,{children:"Last Name"}),Object(x.jsx)(b.Form.Control,{children:Object(x.jsx)(b.Form.Input,{onChange:l,type:"text",placeholder:"Last Name",name:"lastName"})})]}),Object(x.jsxs)(b.Form.Field,{children:[Object(x.jsx)(b.Form.Label,{children:"Username"}),Object(x.jsxs)(b.Form.Control,{children:[Object(x.jsx)(b.Form.Input,{onChange:l,type:"text",placeholder:"Username",name:"username"}),Object(x.jsx)(b.Icon,{align:"left",size:"small",children:Object(x.jsx)(p.a,{icon:g.i})}),Object(x.jsx)(b.Icon,{align:"right",size:"small",children:Object(x.jsx)(p.a,{icon:g.b})})]})]}),Object(x.jsxs)(b.Form.Field,{children:[Object(x.jsx)(b.Form.Label,{children:"Email Address"}),Object(x.jsxs)(b.Form.Control,{children:[Object(x.jsx)(b.Form.Input,{onChange:l,type:"email",placeholder:"Email",name:"email"}),Object(x.jsx)(b.Icon,{align:"left",size:"small",children:Object(x.jsx)(p.a,{icon:g.c})}),Object(x.jsx)(b.Icon,{align:"right",size:"small",children:Object(x.jsx)(p.a,{icon:g.d})})]})]}),Object(x.jsxs)(b.Form.Field,{children:[Object(x.jsx)(b.Form.Label,{children:"Password"}),Object(x.jsxs)(b.Form.Control,{children:[Object(x.jsx)(b.Form.Input,{onChange:l,placeholder:"Password",type:"password",name:"password"}),Object(x.jsx)(b.Icon,{align:"left",size:"small",children:Object(x.jsx)(p.a,{icon:g.e})}),Object(x.jsx)(b.Icon,{align:"right",size:"small",children:Object(x.jsx)(p.a,{icon:g.b})})]})]}),Object(x.jsx)(b.Form.Control,{children:Object(x.jsx)(b.Button,{color:"success",type:"submit",onClick:function(e){e.preventDefault(),u.saveUser({username:n.username,firstName:n.firstName,lastName:n.lastName,password:n.password,email:n.email}).then((function(e){e.data.logged_in&&(r.onUpdate(e.data),console.log("saving the user"),i.push("/profile"))})).catch((function(e){console.log(e)}))},children:"Submit"})})]})]})})},k=n(43),I=n.n(k),B=n(45);n(241);var A=function(e){return Object(x.jsx)(B.a,{apiKey:Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).GEO_API_KEY,children:Object(x.jsx)(B.b,{placeSelect:function(t){e.handleAddressChange(t)},suggestionsChange:function(e){console.log(e)}})})};function w(){var e=Object(c.useState)({}),t=Object(a.a)(e,2),n=t[0],s=t[1],r=Object(c.useState)(new Date),i=Object(a.a)(r,2),l=i[0],j=i[1],O=Object(c.useState)(new Date),h=Object(a.a)(O,2),m=h[0],g=h[1],p=Object(c.useState)(""),f=Object(a.a)(p,2),v=f[0],C=f[1],F=Object(c.useContext)(d).id,y=document.getElementById("eventForm");function N(e){var t=e.target,c=t.name,r=t.value;s(Object(o.a)(Object(o.a)({},n),{},Object(E.a)({},c,r)))}return Object(x.jsx)(b.Container,{style:{backgroundColor:"#1A237E"},children:Object(x.jsxs)(b.Box,{style:{borderColor:"#1A237E",borderWidth:"2",borderStyle:"solid",width:750,margin:"auto"},children:[Object(x.jsx)(b.Block,{children:Object(x.jsx)(b.Image,{style:{margin:"auto"},size:128,src:"https://user-images.githubusercontent.com/74746211/117521730-20fd6580-af64-11eb-9522-6c4a865877c4.png"})}),Object(x.jsx)(b.Block,{children:Object(x.jsx)(b.Heading,{subtitle:!0,size:3,children:"ADD A NEW EVENT"})}),Object(x.jsxs)("form",{id:"eventForm",children:[Object(x.jsxs)(b.Form.Field,{children:[Object(x.jsx)(b.Form.Label,{children:"Event Title"}),Object(x.jsx)(b.Form.Control,{children:Object(x.jsx)(b.Form.Input,{onChange:N,type:"text",placeholder:"event title",name:"title"})})]}),Object(x.jsxs)(b.Form.Field,{children:[Object(x.jsx)(b.Form.Label,{children:" Select Event Start Date and Time"}),Object(x.jsx)(I.a,{value:l,onChange:j,name:"start_date"})]}),Object(x.jsxs)(b.Form.Field,{children:[Object(x.jsx)(b.Form.Label,{children:" Select Event End Date and Time"}),Object(x.jsx)(I.a,{value:m,onChange:g,name:"end_date"})]}),"Enter the Event Address",Object(x.jsx)(A,{type:"text",handleAddressChange:function(e){C(e)}}),Object(x.jsxs)(b.Form.Field,{children:[Object(x.jsx)(b.Form.Label,{children:"Enter Event Details"}),Object(x.jsx)(b.Form.Textarea,{onChange:N,placeholder:"Add event descriptions and other deatiles about your event.",name:"description"})]}),Object(x.jsxs)(b.Form.Field,{kind:"group",children:[Object(x.jsx)(b.Form.Control,{children:Object(x.jsx)(b.Button,{color:"link",type:"submit",onClick:function(e){e.preventDefault(),n.title&&n.description&&u.saveEvent({title:n.title,description:n.description,start_date:l.toLocaleDateString(),end_date:m.toLocaleDateString(),owner:F,venue:v.properties.formatted}).then((function(e){e&&(console.log(e.status),y.reset())})).catch((function(e){return console.log(e)}))},children:"Submit"})}),Object(x.jsx)(b.Form.Control,{children:Object(x.jsx)(b.Button,{type:"reset",color:"link",colorVariant:"light",children:"Cancel"})})]})]})]})})}var _=n(66);function z(){var e=Object(c.useState)({}),t=Object(a.a)(e,2),n=t[0],s=t[1],r=Object(j.g)().id,i=Object(c.useContext)(d),l=Object(c.useState)(""),O=Object(a.a)(l,2),h=O[0],m=O[1],g=Object(c.useState)({}),p=Object(a.a)(g,2),f=p[0],v=p[1],C=Object(c.useState)([]),F=Object(a.a)(C,2),y=F[0],N=F[1];Object(c.useEffect)((function(){u.getEvent(r).then((function(e){m(e.data.owner[0]),s(e.data)})).catch((function(e){return console.log(e)}))}),[]);var S=new Date(n.start_date).toLocaleString(),k=new Date(n.end_date).toLocaleString();return Object(x.jsxs)(b.Container,{backgroundColor:"link",children:[Object(x.jsx)(b.Block,{backgroundColor:"link",style:{margin:"1rem"},children:" "}),Object(x.jsxs)(b.Box,{style:{width:750,margin:"auto"},children:[Object(x.jsx)(b.Block,{children:Object(x.jsx)(b.Image,{style:{margin:"auto"},size:128,src:"https://user-images.githubusercontent.com/74746211/117521730-20fd6580-af64-11eb-9522-6c4a865877c4.png"})}),Object(x.jsxs)(b.Block,{children:[Object(x.jsx)(b.Heading,{subtitle:!0,size:3,children:n.title}),Object(x.jsxs)(b.Heading,{className:"subtitle",children:["by ",h.firstName," ",h.lastName]}),Object(x.jsxs)(b.Content,{children:[Object(x.jsxs)("time",{children:[S," "]})," to ",Object(x.jsxs)("time",{children:[" ",k]}),Object(x.jsx)("br",{}),Object(x.jsxs)("strong",{children:[n.venue," "]}),Object(x.jsx)("br",{}),n.description]})]}),Object(x.jsx)("hr",{}),Object(x.jsxs)(b.Section,{children:[Object(x.jsx)(b.Media,{children:n.guests?n.guests.map((function(e,t){return Object(x.jsx)(b.Media.Item,{align:"center",children:Object(x.jsx)(b.Content,{children:Object(x.jsxs)("p",{children:[Object(x.jsxs)("strong",{children:[e.user.firstName," ",e.user.lastName]}),Object(x.jsx)("br",{}),e.comment,Object(x.jsx)("br",{})]})})},t)})):Object(x.jsx)("p",{children:"No guests yet!"})}),Object(x.jsxs)("form",{onSubmit:function(e){e.preventDefault(),u.getEvent(r).then((function(e){N(e.data.guests),u.updateEvent(r,{guests:[].concat(Object(_.a)(y),[{user:i.id,comment:f.comment}])})}))},children:[Object(x.jsx)(b.Form.Field,{children:Object(x.jsx)(b.Form.Control,{renderAs:"p",children:Object(x.jsx)(b.Form.Textarea,{placeholder:"Add a comment...",label:"comment",name:"comment",onChange:function(e){var t=e.target,n=t.name,c=t.value;v(Object(o.a)(Object(o.a)({},f),{},Object(E.a)({},n,c)))}})})}),Object(x.jsx)(b.Form.Field,{children:Object(x.jsx)(b.Form.Control,{renderAs:"p",children:Object(x.jsx)(b.Button,{color:"link",type:"submit",children:"RSVP"})})})]})]})]})]})}function L(){return Object(x.jsx)(x.Fragment,{children:Object(x.jsx)(b.Footer,{children:Object(x.jsx)(b.Container,{children:Object(x.jsxs)(b.Content,{style:{textAlign:"center"},children:[Object(x.jsxs)("h2",{children:[" Made with ",Object(x.jsx)("span",{color:"link",children:" \u2764"})," by Carson, Carrie, and Brigid"]}),Object(x.jsxs)("p",{children:["The source code is licensed",Object(x.jsx)("a",{href:"http://opensource.org/licenses/mit-license.php",children:"MIT"}),". The website content is licensed ",Object(x.jsx)("a",{href:"http://creativecommons.org/licenses/by-nc-sa/4.0/",children:"CC BY NC SA 4.0"}),"."]})]})})})})}var H=function(){var e=Object(c.useState)({logged_in:!1,username:"",id:"",onUpdate:function(e){s(Object(o.a)(Object(o.a)({},n),e))}}),t=Object(a.a)(e,2),n=t[0],s=t[1];return Object(x.jsx)(d.Provider,{value:n,children:Object(x.jsx)(l.a,{children:Object(x.jsxs)(b.Container,{children:[Object(x.jsx)(f,{value:n.logged_in}),Object(x.jsxs)(j.c,{children:[Object(x.jsx)(j.a,{exact:!0,path:"/",component:y}),Object(x.jsx)(j.a,{exact:!0,path:"/login",component:N}),Object(x.jsx)(j.a,{exact:!0,path:"/signup",component:S}),Object(x.jsx)(j.a,{exact:!0,path:"/new",component:w}),Object(x.jsx)(j.a,{exact:!0,path:"/profile",component:m}),Object(x.jsx)(j.a,{exact:!0,path:"/events/:id",component:z})]}),Object(x.jsx)(L,{})]})})})};i.a.render(Object(x.jsx)(H,{}),document.getElementById("root"))}},[[243,1,2]]]);
//# sourceMappingURL=main.87466e6e.chunk.js.map