(this.webpackJsonpmomentous=this.webpackJsonpmomentous||[]).push([[0],{243:function(e,t,n){"use strict";n.r(t);var c=n(1),s=n.n(c),r=n(27),i=n.n(r),o=(n(71),n(13)),a=n(8),l=n(12),j=n(7),d=s.a.createContext({logged_in:!1,username:"",id:"",onUpdate:function(){}}),b=n(3),O=n(21),h=n.n(O),u={getEvents:function(){return h.a.get("/api/events")},getEvent:function(e){return h.a.get("/api/events/"+e)},updateEvent:function(e,t){return h.a.put("/api/events/"+e,t)},deleteEvent:function(e){return h.a.delete("/api/events/"+e)},saveEvent:function(e){return h.a.post("/api/events",e)},saveUser:function(e){return h.a.post("/api/users",e)},getUser:function(e){return h.a.get("/api/users/"+e)},loginUser:function(e){return h.a.post("/api/users/login",e)},logoutUser:function(){return h.a.post("/api/users/logout")}},m=n(2);function x(){var e=Object(c.useContext)(d),t=e.username,n=e.email,s=e.id,r=Object(c.useState)([]),i=Object(a.a)(r,2),o=i[0],j=i[1],O=Object(c.useState)(o),h=Object(a.a)(O,2),x=h[0],g=h[1];return Object(c.useEffect)((function(){u.getEvents().then((function(e){console.log(e.data),j(e.data);var t=e.data.filter((function(e){return e.owner[0]._id===s}));g(t)})).catch((function(e){return console.log(e)}))}),[]),Object(m.jsx)(b.Container,{className:"mt-5",children:Object(m.jsxs)(b.Columns,{className:"is-multiline",children:[Object(m.jsxs)(b.Columns.Column,{className:"left",size:4,offset:!0,children:[Object(m.jsx)("aside",{className:"menu",children:Object(m.jsxs)("ul",{className:"list",children:[Object(m.jsxs)("li",{className:"subtitle is-3",children:["Welcome ",Object(m.jsx)("strong",{children:t})]}),Object(m.jsx)("li",{className:"box",children:n})]})}),Object(m.jsx)(b.Button,{renderAs:l.b,color:"link",to:"/new",className:"is-link is-block is-alt is-medium",children:"Add Event"})]}),Object(m.jsx)(b.Columns.Column,{size:8,children:Object(m.jsxs)(b.Box,{className:"content mt-4",children:[Object(m.jsx)(b.Heading,{className:"h4",children:"Events:"}),x.length?x.map((function(e,t){return Object(m.jsxs)("article",{children:[Object(m.jsx)(b.Heading,{renderAs:l.b,color:"link",to:"/events/"+e._id,children:e.title}),Object(m.jsx)(b.Media,{children:Object(m.jsx)("div",{className:"media-content",children:Object(m.jsx)(b.Content,{children:Object(m.jsx)("p",{children:e.description})})})})]},t)})):Object(m.jsx)("p",{children:"No events yet!"})]})})]})})}var g=n(11),p=n(10);var f=function(){var e=Object(c.useContext)(d),t=Object(j.f)();return Object(m.jsx)(d.Provider,{value:e.logged_in,children:Object(m.jsx)("header",{children:Object(m.jsxs)(b.Navbar,{role:"navigation","aria-label":"main navigation",children:[Object(m.jsxs)(b.Navbar.Brand,{children:[Object(m.jsx)(b.Navbar.Item,{renderAs:l.b,to:"/",children:Object(m.jsx)("img",{alt:"Momentous: a simple community driven events app",height:"28",src:"https://user-images.githubusercontent.com/74746211/117521730-20fd6580-af64-11eb-9522-6c4a865877c4.png",width:"38"})}),Object(m.jsx)(b.Navbar.Container,{className:"navbar-start",children:e.logged_in&&Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(b.Button,{renderAs:l.b,color:"primary",to:"/profile",children:Object(m.jsx)(b.Icon,{children:Object(m.jsx)(p.a,{icon:g.i})})}),Object(m.jsx)(b.Button,{className:"ml-3",renderAs:l.b,color:"link",to:"/new",children:Object(m.jsxs)(b.Icon,{children:[Object(m.jsx)(p.a,{icon:g.f}),Object(m.jsx)(p.a,{icon:g.a})]})})]})})]}),Object(m.jsxs)(b.Navbar.Container,{className:"navbar-end",align:"end",children:[e.logged_in&&Object(m.jsx)(m.Fragment,{children:Object(m.jsx)(b.Button,{renderAs:l.b,onClick:function(){u.logoutUser().then((function(n){n.data.logged_in||(e.onUpdate(n.data),t.push("/login"))})).catch((function(e){console.log(e)}))},color:"light",to:"/logout",children:Object(m.jsx)(b.Icon,{children:Object(m.jsx)(p.a,{alt:"Logout",icon:g.h})})})}),!e.logged_in&&Object(m.jsx)(b.Level.Item,{children:Object(m.jsxs)(b.Columns,{children:[Object(m.jsx)(b.Columns.Column,{children:Object(m.jsx)(b.Button,{renderAs:l.b,color:"link",to:"/login",children:Object(m.jsx)(b.Icon,{children:Object(m.jsx)(p.a,{alt:"Login",icon:g.g})})})}),Object(m.jsx)("div",{className:"divider is-vertical is-light",align:"vcentered",color:"light",children:"OR"}),Object(m.jsx)(b.Columns.Column,{children:Object(m.jsx)(b.Button,{renderAs:l.b,color:"link",to:"/signup",children:Object(m.jsx)(b.Icon,{children:Object(m.jsx)(p.a,{alt:"Signup",icon:g.j})})})})]})})]})]})})})};function v(){return Object(m.jsx)(m.Fragment,{children:Object(m.jsxs)(b.Hero,{size:"fullheight",color:"dark",style:{backgroundColor:"#1A237E"},children:[Object(m.jsx)(b.Hero.Header,{}),Object(m.jsx)(b.Hero.Body,{children:Object(m.jsxs)(b.Container,{children:[Object(m.jsx)(b.Block,{children:Object(m.jsx)(b.Image,{style:{margin:"auto"},size:128,src:"https://user-images.githubusercontent.com/74746211/117521730-20fd6580-af64-11eb-9522-6c4a865877c4.png"})}),Object(m.jsx)(b.Heading,{size:2,children:"Momentous"}),Object(m.jsx)(b.Heading,{size:4,subtitle:!0,weight:"light",children:"BRINGING PEOPLE TOGETHER FOR A MOMENTOUS OCCASION!"})]})}),Object(m.jsx)(b.Hero.Footer,{children:"vv Join events arrow down vv"})]})})}function C(e){var t=e.children;return Object(m.jsx)(b.Container,{className:"columns is-multiline",children:t})}function F(e){var t=e.index,n=e.title,c=e.description,s=e.id;return Object(m.jsx)(b.Tile,{children:Object(m.jsx)(b.Card,{className:"is-one-third",style:{margin:"auto"},children:Object(m.jsxs)(b.Card.Content,{children:[Object(m.jsx)(b.Media,{children:Object(m.jsxs)(b.Media.Item,{children:[Object(m.jsx)(b.Heading,{size:4,children:Object(m.jsx)(l.b,{to:"/events/"+s,children:n})}),Object(m.jsx)(b.Heading,{subtitle:!0,size:6,children:"Hosted by:"})]})}),Object(m.jsxs)(b.Content,{children:[c,Object(m.jsx)("br",{})]}),Object(m.jsx)(l.b,{to:"/events/"+s,children:"RSVP"})]})},t)})}function N(){var e=Object(c.useState)([]),t=Object(a.a)(e,2),n=t[0],s=t[1];return Object(c.useEffect)((function(){u.getEvents().then((function(e){s(e.data)})).catch((function(e){console.log(e)}))}),[]),Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(v,{}),Object(m.jsx)(b.Container,{children:n.length?Object(m.jsx)(C,{className:"is-multiline",children:n.map((function(e,t){return Object(m.jsx)(F,{event:e,title:e.title,description:e.description,id:e._id},t)}))}):Object(m.jsx)(b.Heading,{style:{paddingTop:30},as:"h3",children:"No events yet!"})})]})}var k=n(20);var y=function(){var e=Object(c.useState)({}),t=Object(a.a)(e,2),n=t[0],s=t[1],r=Object(c.useContext)(d),i=Object(j.f)();function l(e){var t=e.target,c=t.name,r=t.value;s(Object(o.a)(Object(o.a)({},n),{},Object(k.a)({},c,r)))}return Object(m.jsxs)(b.Container,{backgroundColor:"link",children:[Object(m.jsx)(b.Block,{backgroundColor:"link",style:{margin:"1rem"},children:" "}),Object(m.jsxs)(b.Box,{style:{width:400,margin:"auto"},children:[Object(m.jsx)(b.Heading,{style:{margin:"1rem"},subtitle:!0,size:3,children:"Login"}),Object(m.jsx)(b.Block,{children:Object(m.jsx)(b.Image,{style:{margin:"auto"},size:128,src:"https://user-images.githubusercontent.com/74746211/117521730-20fd6580-af64-11eb-9522-6c4a865877c4.png"})}),Object(m.jsx)(b.Block,{children:"Please login to proceed."}),Object(m.jsxs)("form",{children:[Object(m.jsxs)(b.Form.Field,{children:[Object(m.jsx)(b.Form.Label,{children:"Username"}),Object(m.jsxs)(b.Form.Control,{children:[Object(m.jsx)(b.Form.Input,{onChange:l,type:"text",placeholder:"Username",name:"username"}),Object(m.jsx)(b.Icon,{align:"left",size:"small",children:Object(m.jsx)(p.a,{icon:g.i})}),Object(m.jsx)(b.Icon,{align:"right",size:"small",children:Object(m.jsx)(p.a,{icon:g.b})})]})]}),Object(m.jsxs)(b.Form.Field,{children:[Object(m.jsx)(b.Form.Label,{children:"Password"}),Object(m.jsxs)(b.Form.Control,{children:[Object(m.jsx)(b.Form.Input,{onChange:l,placeholder:"Password",type:"password",name:"password"}),Object(m.jsx)(b.Icon,{align:"left",size:"small",children:Object(m.jsx)(p.a,{icon:g.e})}),Object(m.jsx)(b.Icon,{align:"right",size:"small",children:Object(m.jsx)(p.a,{icon:g.b})})]})]})]}),Object(m.jsx)(b.Button,{color:"primary",type:"submit",onClick:function(e){e.preventDefault(),u.loginUser({username:n.username,password:n.password}).then((function(e){e.data.logged_in&&(r.onUpdate(e.data),i.push("/profile"))}))},children:"Submit"})]})]})};var E=function(){var e=Object(c.useState)({}),t=Object(a.a)(e,2),n=t[0],s=t[1],r=Object(c.useContext)(d),i=Object(j.f)();function l(e){var t=e.target,c=t.name,r=t.value;s(Object(o.a)(Object(o.a)({},n),{},Object(k.a)({},c,r)))}return Object(m.jsxs)(b.Container,{backgroundColor:"link",children:[Object(m.jsx)(b.Box,{backgroundColor:"link",children:" "}),Object(m.jsxs)(b.Box,{style:{width:700,margin:"auto"},children:[Object(m.jsx)(b.Heading,{style:{margin:"1rem"},subtitle:!0,size:3,children:"Signup"}),Object(m.jsx)(b.Block,{children:Object(m.jsx)(b.Image,{style:{margin:"auto"},size:128,src:"https://user-images.githubusercontent.com/74746211/117521730-20fd6580-af64-11eb-9522-6c4a865877c4.png"})}),Object(m.jsx)(b.Block,{children:"Please signup to proceed."}),Object(m.jsxs)("form",{children:[Object(m.jsxs)(b.Form.Field,{kind:"group",children:[Object(m.jsx)(b.Form.Label,{children:"First Name"}),Object(m.jsx)(b.Form.Control,{children:Object(m.jsx)(b.Form.Input,{onChange:l,type:"text",placeholder:"First Name",name:"firstName"})}),Object(m.jsx)(b.Form.Label,{children:"Last Name"}),Object(m.jsx)(b.Form.Control,{children:Object(m.jsx)(b.Form.Input,{onChange:l,type:"text",placeholder:"Last Name",name:"lastName"})})]}),Object(m.jsxs)(b.Form.Field,{children:[Object(m.jsx)(b.Form.Label,{children:"Username"}),Object(m.jsxs)(b.Form.Control,{children:[Object(m.jsx)(b.Form.Input,{color:"success",onChange:l,type:"text",placeholder:"Username",name:"username"}),Object(m.jsx)(b.Icon,{align:"left",size:"small",children:Object(m.jsx)(p.a,{icon:g.i})}),Object(m.jsx)(b.Icon,{align:"right",size:"small",children:Object(m.jsx)(p.a,{icon:g.b})})]}),Object(m.jsx)(b.Form.Help,{color:"success",children:"This username is available"})]}),Object(m.jsxs)(b.Form.Field,{children:[Object(m.jsx)(b.Form.Label,{children:"Email Address"}),Object(m.jsxs)(b.Form.Control,{children:[Object(m.jsx)(b.Form.Input,{color:"danger",onChange:l,type:"email",placeholder:"Email",name:"email"}),Object(m.jsx)(b.Icon,{align:"left",size:"small",children:Object(m.jsx)(p.a,{icon:g.c})}),Object(m.jsx)(b.Icon,{align:"right",size:"small",children:Object(m.jsx)(p.a,{icon:g.d})})]}),Object(m.jsx)(b.Form.Help,{color:"danger",children:"This email is invalid"})]}),Object(m.jsxs)(b.Form.Field,{children:[Object(m.jsx)(b.Form.Label,{children:"Password"}),Object(m.jsxs)(b.Form.Control,{children:[Object(m.jsx)(b.Form.Input,{onChange:l,placeholder:"Password",type:"password",name:"password"}),Object(m.jsx)(b.Icon,{align:"left",size:"small",children:Object(m.jsx)(p.a,{icon:g.e})}),Object(m.jsx)(b.Icon,{align:"right",size:"small",children:Object(m.jsx)(p.a,{icon:g.b})})]})]}),Object(m.jsx)(b.Form.Control,{children:Object(m.jsx)(b.Button,{color:"success",type:"submit",onClick:function(e){e.preventDefault(),u.saveUser({username:n.username,firstName:n.firstName,lastName:n.lastName,password:n.password,email:n.email}).then((function(e){e.data.logged_in&&(r.onUpdate(e.data),console.log("saving the user"),i.push("/profile"))})).catch((function(e){console.log(e)}))},children:"Submit"})})]})]})]})},S=n(43),I=n.n(S),B=n(45);n(241);var w=function(e){return Object(m.jsx)(B.a,{apiKey:Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).GEO_API_KEY,children:Object(m.jsx)(B.b,{placeSelect:function(t){e.handleAddressChange(t)},suggestionsChange:function(e){console.log(e)}})})};function _(){var e=Object(c.useState)({}),t=Object(a.a)(e,2),n=t[0],s=t[1],r=Object(c.useState)(new Date),i=Object(a.a)(r,2),l=i[0],j=i[1],O=Object(c.useState)(new Date),h=Object(a.a)(O,2),x=h[0],g=h[1],p=Object(c.useState)(""),f=Object(a.a)(p,2),v=f[0],C=f[1],F=Object(c.useContext)(d).id,N=document.getElementById("eventForm");function y(e){var t=e.target,c=t.name,r=t.value;s(Object(o.a)(Object(o.a)({},n),{},Object(k.a)({},c,r)))}return Object(m.jsxs)(b.Container,{backgroundColor:"link",children:[Object(m.jsx)(b.Block,{backgroundColor:"link",style:{margin:"1rem"},children:" "}),Object(m.jsxs)(b.Box,{style:{width:750,margin:"auto"},children:[Object(m.jsx)(b.Block,{children:Object(m.jsx)(b.Image,{style:{margin:"auto"},size:128,src:"https://user-images.githubusercontent.com/74746211/117521730-20fd6580-af64-11eb-9522-6c4a865877c4.png"})}),Object(m.jsx)(b.Block,{children:Object(m.jsx)(b.Heading,{subtitle:!0,size:3,children:"ADD A NEW EVENT"})}),Object(m.jsxs)("form",{id:"eventForm",children:[Object(m.jsxs)(b.Form.Field,{children:[Object(m.jsx)(b.Form.Label,{children:"Event Title"}),Object(m.jsx)(b.Form.Control,{children:Object(m.jsx)(b.Form.Input,{onChange:y,type:"text",placeholder:"event title",name:"title"})})]}),Object(m.jsxs)(b.Form.Field,{children:[Object(m.jsx)(b.Form.Label,{children:" Select Event Start Date and Time"}),Object(m.jsx)(I.a,{value:l,onChange:j,name:"start_date"})]}),Object(m.jsxs)(b.Form.Field,{children:[Object(m.jsx)(b.Form.Label,{children:" Select Event End Date and Time"}),Object(m.jsx)(I.a,{value:x,onChange:g,name:"end_date"})]}),"Enter the Event Address",Object(m.jsx)(w,{type:"text",handleAddressChange:function(e){C(e)}}),Object(m.jsxs)(b.Form.Field,{children:[Object(m.jsx)(b.Form.Label,{children:"Enter Event Details"}),Object(m.jsx)(b.Form.Textarea,{onChange:y,placeholder:"Add event descriptions and other deatiles about your event.",name:"description"})]}),Object(m.jsxs)(b.Form.Field,{kind:"group",children:[Object(m.jsx)(b.Form.Control,{children:Object(m.jsx)(b.Button,{color:"link",type:"submit",onClick:function(e){e.preventDefault(),n.title&&n.description&&u.saveEvent({title:n.title,description:n.description,start_date:l.toLocaleDateString(),end_date:x.toLocaleDateString(),owner:F,venue:v.properties.formatted}).then((function(e){e&&(console.log(e.status),N.reset())})).catch((function(e){return console.log(e)}))},children:"Submit"})}),Object(m.jsx)(b.Form.Control,{children:Object(m.jsx)(b.Button,{type:"reset",color:"link",colorVariant:"light",children:"Cancel"})})]})]})]})]})}var A=n(66);function z(){var e=Object(c.useState)({}),t=Object(a.a)(e,2),n=t[0],s=t[1],r=Object(j.g)().id,i=Object(c.useContext)(d),l=Object(c.useState)(""),O=Object(a.a)(l,2),h=O[0],x=O[1],g=Object(c.useState)({}),p=Object(a.a)(g,2),f=p[0],v=p[1],C=Object(c.useState)([]),F=Object(a.a)(C,2),N=F[0],y=F[1];Object(c.useEffect)((function(){u.getEvent(r).then((function(e){x(e.data.owner[0]),s(e.data)})).catch((function(e){return console.log(e)}))}),[]);var E=new Date(n.start_date).toLocaleString(),S=new Date(n.end_date).toLocaleString();return Object(m.jsxs)(b.Container,{backgroundColor:"link",children:[Object(m.jsx)(b.Block,{backgroundColor:"link",style:{margin:"1rem"},children:" "}),Object(m.jsxs)(b.Box,{style:{width:750,margin:"auto"},children:[Object(m.jsx)(b.Block,{children:Object(m.jsx)(b.Image,{style:{margin:"auto"},size:128,src:"https://user-images.githubusercontent.com/74746211/117521730-20fd6580-af64-11eb-9522-6c4a865877c4.png"})}),Object(m.jsxs)(b.Block,{children:[Object(m.jsx)(b.Heading,{subtitle:!0,size:3,children:n.title}),Object(m.jsxs)(b.Heading,{className:"subtitle",children:["by ",h.firstName," ",h.lastName]}),Object(m.jsxs)(b.Content,{children:[Object(m.jsxs)("time",{children:[E," "]})," to ",Object(m.jsxs)("time",{children:[" ",S]}),Object(m.jsx)("br",{}),Object(m.jsxs)("strong",{children:[n.venue," "]}),Object(m.jsx)("br",{}),n.description]})]}),Object(m.jsx)("hr",{}),Object(m.jsxs)(b.Section,{children:[Object(m.jsx)(b.Media,{children:n.guests?n.guests.map((function(e,t){return Object(m.jsx)(b.Media.Item,{align:"center",children:Object(m.jsx)(b.Content,{children:Object(m.jsxs)("p",{children:[Object(m.jsxs)("strong",{children:[e.user.firstName," ",e.user.lastName]}),Object(m.jsx)("br",{}),e.comment,Object(m.jsx)("br",{})]})})},t)})):Object(m.jsx)("p",{children:"No guests yet!"})}),Object(m.jsxs)("form",{onSubmit:function(e){e.preventDefault(),u.getEvent(r).then((function(e){y(e.data.guests),u.updateEvent(r,{guests:[].concat(Object(A.a)(N),[{user:i.id,comment:f.comment}])})}))},children:[Object(m.jsx)(b.Form.Field,{children:Object(m.jsx)(b.Form.Control,{renderAs:"p",children:Object(m.jsx)(b.Form.Textarea,{placeholder:"Add a comment...",label:"comment",name:"comment",onChange:function(e){var t=e.target,n=t.name,c=t.value;v(Object(o.a)(Object(o.a)({},f),{},Object(k.a)({},n,c)))}})})}),Object(m.jsx)(b.Form.Field,{children:Object(m.jsx)(b.Form.Control,{renderAs:"p",children:Object(m.jsx)(b.Button,{color:"link",type:"submit",children:"RSVP"})})})]})]})]})]})}function H(){return Object(m.jsx)(m.Fragment,{children:Object(m.jsx)(b.Footer,{children:Object(m.jsx)(b.Container,{children:Object(m.jsxs)(b.Content,{style:{textAlign:"center"},children:[Object(m.jsxs)("h2",{children:[" Made with ",Object(m.jsx)("span",{color:"link",children:" \u2764"})," by Carson, Carrie, and Brigid"]}),Object(m.jsxs)("p",{children:["The source code is licensed",Object(m.jsx)("a",{href:"http://opensource.org/licenses/mit-license.php",children:"MIT"}),". The website content is licensed ",Object(m.jsx)("a",{href:"http://creativecommons.org/licenses/by-nc-sa/4.0/",children:"CC BY NC SA 4.0"}),"."]})]})})})})}var L=function(){var e=Object(c.useState)({logged_in:!1,username:"",id:"",onUpdate:function(e){s(Object(o.a)(Object(o.a)({},n),e))}}),t=Object(a.a)(e,2),n=t[0],s=t[1];return Object(m.jsx)(d.Provider,{value:n,children:Object(m.jsx)(l.a,{children:Object(m.jsxs)(b.Container,{children:[Object(m.jsx)(f,{value:n.logged_in}),Object(m.jsxs)(j.c,{children:[Object(m.jsx)(j.a,{exact:!0,path:"/",component:N}),Object(m.jsx)(j.a,{exact:!0,path:"/login",component:y}),Object(m.jsx)(j.a,{exact:!0,path:"/signup",component:E}),Object(m.jsx)(j.a,{exact:!0,path:"/new",component:_}),Object(m.jsx)(j.a,{exact:!0,path:"/profile",component:x}),Object(m.jsx)(j.a,{exact:!0,path:"/events/:id",component:z})]}),Object(m.jsx)(H,{})]})})})};i.a.render(Object(m.jsx)(L,{}),document.getElementById("root"))}},[[243,1,2]]]);
//# sourceMappingURL=main.e250d82b.chunk.js.map